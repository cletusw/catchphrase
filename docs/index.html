<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Catch Phrase</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">

    <link rel="stylesheet" href="https://unpkg.com/dialog-polyfill@0.5.3/dist/dialog-polyfill.css">
    <link rel="stylesheet" href="base.css">

    <!-- Must come before all other app scripts -->
    <script>
      let redirectedFrom = sessionStorage.getItem('redirectedFrom');
      delete sessionStorage.redirectedFrom;
      if (redirectedFrom &&
          redirectedFrom !== location.href &&
          !redirectedFrom.endsWith('/catchphrase')) {
        history.replaceState(null, null, redirectedFrom);
      }
    </script>

    <!-- ES Module Import Maps (w/ polyfill) -->
    <script type="module" src="https://jspm.dev/es-module-shims"></script>
    <script type="importmap-shim">
    {
      "imports": {
        "dialog-polyfill": "https://jspm.dev/dialog-polyfill@0.5.3",
        "dialog-polyfill/": "https://jspm.dev/dialog-polyfill@0.5.3/",
        "haunted": "https://jspm.dev/haunted@4.7.0",
        "haunted/": "https://jspm.dev/haunted@4.7.0/",
        "firebase/app": "https://jspm.dev/@firebase/app@0.6.11",
        "firebase/database": "https://jspm.dev/@firebase/database@0.6.13",
        "lit-html": "https://jspm.dev/lit-html@1",
        "lit-html/": "https://jspm.dev/lit-html@1/",
        "lodash": "https://jspm.dev/lodash@4.17.20",
        "lodash/": "https://jspm.dev/lodash@4.17.20/",
        "sortable": "https://jspm.dev/sortablejs@1.10.1",
        "sortable/": "https://jspm.dev/sortablejs@1.10.1/"
      }
    }
    </script>

    <!-- "module-shim" causes it to get processed by es-module-shims (for Import Maps support) -->
    <script type="module-shim" src="app.js"></script>
  </head>
  <body>
    <catchphrase-app></catchphrase-app>
  </body>
</html>
